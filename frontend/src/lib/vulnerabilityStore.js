import { writable } from "svelte/store";

export const vulnerabilities = writable([
    { title: "Critical", value: 0, severity: "critical" },
    { title: "High", value: 0, severity: "high" },
    { title: "Medium", value: 0, severity: "medium" },
    { title: "Low", value: 0, severity: "low" },
    { title: "Unknown", value: 0, severity: "unknown" },
]);

export function updateVulnerabilities(severityCounts) {
    vulnerabilities.update((items) => 
        items.map((item) => ({
            ...item,
            value: severityCounts[item.severity] || 0,
        }))
    );
}
